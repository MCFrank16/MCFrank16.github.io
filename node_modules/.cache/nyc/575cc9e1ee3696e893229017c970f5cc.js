'use strict';var cov_1n74d1s3bc=function(){var path="C:\\Users\\User\\AppData\\Local\\GitHubDesktop\\app-1.4.3\\Documents\\GitHub\\MCFrank16.github.io\\src\\controllers\\Courier.js",hash="ea07b6853a3fa8d2032efb9883aca3a0a83df498",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\User\\AppData\\Local\\GitHubDesktop\\app-1.4.3\\Documents\\GitHub\\MCFrank16.github.io\\src\\controllers\\Courier.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:15},end:{line:7,column:43}},"2":{start:{line:9,column:16},end:{line:9,column:48}},"3":{start:{line:11,column:39},end:{line:11,column:93}},"4":{start:{line:13,column:17},end:{line:90,column:1}},"5":{start:{line:21,column:4},end:{line:23,column:5}},"6":{start:{line:22,column:6},end:{line:22,column:76}},"7":{start:{line:24,column:16},end:{line:24,column:50}},"8":{start:{line:25,column:4},end:{line:25,column:39}},"9":{start:{line:35,column:14},end:{line:35,column:41}},"10":{start:{line:36,column:4},end:{line:36,column:37}},"11":{start:{line:46,column:14},end:{line:46,column:54}},"12":{start:{line:47,column:4},end:{line:49,column:5}},"13":{start:{line:48,column:6},end:{line:48,column:69}},"14":{start:{line:50,column:4},end:{line:50,column:37}},"15":{start:{line:60,column:17},end:{line:60,column:57}},"16":{start:{line:61,column:4},end:{line:63,column:5}},"17":{start:{line:62,column:6},end:{line:62,column:69}},"18":{start:{line:64,column:24},end:{line:64,column:73}},"19":{start:{line:65,column:4},end:{line:65,column:47}},"20":{start:{line:75,column:18},end:{line:75,column:58}},"21":{start:{line:76,column:4},end:{line:78,column:5}},"22":{start:{line:77,column:6},end:{line:77,column:69}},"23":{start:{line:79,column:14},end:{line:79,column:53}},"24":{start:{line:80,column:4},end:{line:80,column:37}},"25":{start:{line:83,column:15},end:{line:83,column:81}},"26":{start:{line:84,column:4},end:{line:86,column:5}},"27":{start:{line:85,column:6},end:{line:85,column:67}},"28":{start:{line:88,column:4},end:{line:88,column:38}},"29":{start:{line:92,column:0},end:{line:92,column:29}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:11,column:9},end:{line:11,column:31}},loc:{start:{line:11,column:37},end:{line:11,column:95}},line:11},"1":{name:"create",decl:{start:{line:20,column:19},end:{line:20,column:25}},loc:{start:{line:20,column:36},end:{line:26,column:3}},line:20},"2":{name:"getAll",decl:{start:{line:34,column:19},end:{line:34,column:25}},loc:{start:{line:34,column:36},end:{line:37,column:3}},line:34},"3":{name:"getOne",decl:{start:{line:45,column:19},end:{line:45,column:25}},loc:{start:{line:45,column:36},end:{line:51,column:3}},line:45},"4":{name:"update",decl:{start:{line:59,column:19},end:{line:59,column:25}},loc:{start:{line:59,column:36},end:{line:66,column:3}},line:59},"5":{name:"_delete",decl:{start:{line:74,column:19},end:{line:74,column:26}},loc:{start:{line:74,column:37},end:{line:81,column:3}},line:74},"6":{name:"getUser",decl:{start:{line:82,column:20},end:{line:82,column:27}},loc:{start:{line:82,column:38},end:{line:89,column:3}},line:82}},branchMap:{"0":{loc:{start:{line:11,column:46},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:70},end:{line:11,column:73}},{start:{line:11,column:76},end:{line:11,column:92}}],line:11},"1":{loc:{start:{line:11,column:46},end:{line:11,column:67}},type:"binary-expr",locations:[{start:{line:11,column:46},end:{line:11,column:49}},{start:{line:11,column:53},end:{line:11,column:67}}],line:11},"2":{loc:{start:{line:21,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:23,column:5}},{start:{line:21,column:4},end:{line:23,column:5}}],line:21},"3":{loc:{start:{line:21,column:8},end:{line:21,column:134}},type:"binary-expr",locations:[{start:{line:21,column:8},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:41}},{start:{line:21,column:45},end:{line:21,column:59}},{start:{line:21,column:63},end:{line:21,column:75}},{start:{line:21,column:79},end:{line:21,column:94}},{start:{line:21,column:98},end:{line:21,column:114}},{start:{line:21,column:118},end:{line:21,column:134}}],line:21},"4":{loc:{start:{line:47,column:4},end:{line:49,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:49,column:5}},{start:{line:47,column:4},end:{line:49,column:5}}],line:47},"5":{loc:{start:{line:61,column:4},end:{line:63,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:63,column:5}},{start:{line:61,column:4},end:{line:63,column:5}}],line:61},"6":{loc:{start:{line:76,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:78,column:5}},{start:{line:76,column:4},end:{line:78,column:5}}],line:76},"7":{loc:{start:{line:84,column:4},end:{line:86,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:86,column:5}},{start:{line:84,column:4},end:{line:86,column:5}}],line:84}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0,0,0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_1n74d1s3bc.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _Courier=(cov_1n74d1s3bc.s[1]++,require('../models/Courier'));var _Courier2=(cov_1n74d1s3bc.s[2]++,_interopRequireDefault(_Courier));function _interopRequireDefault(obj){cov_1n74d1s3bc.f[0]++;cov_1n74d1s3bc.s[3]++;return(cov_1n74d1s3bc.b[1][0]++,obj)&&(cov_1n74d1s3bc.b[1][1]++,obj.__esModule)?(cov_1n74d1s3bc.b[0][0]++,obj):(cov_1n74d1s3bc.b[0][1]++,{default:obj});}var deliveries=(cov_1n74d1s3bc.s[4]++,{/**
   * 
   * @param {object} req 
   * @param {object} res
   * @returns {object} Parcel object 
   */create:function create(req,res){cov_1n74d1s3bc.f[1]++;cov_1n74d1s3bc.s[5]++;if((cov_1n74d1s3bc.b[3][0]++,!req.body.Name)&&(cov_1n74d1s3bc.b[3][1]++,!req.body.Model)&&(cov_1n74d1s3bc.b[3][2]++,!req.body.From)&&(cov_1n74d1s3bc.b[3][3]++,!req.body.To)&&(cov_1n74d1s3bc.b[3][4]++,!req.body.NowAt)&&(cov_1n74d1s3bc.b[3][5]++,!req.body.Status)&&(cov_1n74d1s3bc.b[3][6]++,!req.body.UserID)){cov_1n74d1s3bc.b[2][0]++;cov_1n74d1s3bc.s[6]++;return res.status(400).send({'message':'All fields are required'});}else{cov_1n74d1s3bc.b[2][1]++;}var sendy=(cov_1n74d1s3bc.s[7]++,_Courier2.default.create(req.body));cov_1n74d1s3bc.s[8]++;return res.status(201).send(sendy);},/**
   * 
   * @param {object} req 
   * @param {object} res 
   * @returns {object} Parcel array
   */getAll:function getAll(req,res){cov_1n74d1s3bc.f[2]++;var all=(cov_1n74d1s3bc.s[9]++,_Courier2.default.findAll());cov_1n74d1s3bc.s[10]++;return res.status(200).send(all);},/**
   * 
   * @param {object} req 
   * @param {object} res
   * @returns {object} Parcel object
   */getOne:function getOne(req,res){cov_1n74d1s3bc.f[3]++;var one=(cov_1n74d1s3bc.s[11]++,_Courier2.default.findOne(req.params.id));cov_1n74d1s3bc.s[12]++;if(!one){cov_1n74d1s3bc.b[4][0]++;cov_1n74d1s3bc.s[13]++;return res.status(404).send({'message':'Parcel not found'});}else{cov_1n74d1s3bc.b[4][1]++;}cov_1n74d1s3bc.s[14]++;return res.status(200).send(one);},/**
   * 
   * @param {object} req 
   * @param {object} res 
   * @returns {object} Parcel reflection
   */update:function update(req,res){cov_1n74d1s3bc.f[4]++;var update=(cov_1n74d1s3bc.s[15]++,_Courier2.default.findOne(req.params.id));cov_1n74d1s3bc.s[16]++;if(!update){cov_1n74d1s3bc.b[5][0]++;cov_1n74d1s3bc.s[17]++;return res.status(404).send({'message':'Parcel not found'});}else{cov_1n74d1s3bc.b[5][1]++;}var updatedParcel=(cov_1n74d1s3bc.s[18]++,_Courier2.default.update(req.params.id,req.body));cov_1n74d1s3bc.s[19]++;return res.status(200).send(updatedParcel);},/**
   * 
   * @param {object} req 
   * @param {object} res 
   * @returns {void} return statuc code 204 
   */delete:function _delete(req,res){cov_1n74d1s3bc.f[5]++;var deletee=(cov_1n74d1s3bc.s[20]++,_Courier2.default.findOne(req.params.id));cov_1n74d1s3bc.s[21]++;if(!deletee){cov_1n74d1s3bc.b[6][0]++;cov_1n74d1s3bc.s[22]++;return res.status(404).send({'message':'Parcel not found'});}else{cov_1n74d1s3bc.b[6][1]++;}var ref=(cov_1n74d1s3bc.s[23]++,_Courier2.default.delete(req.params.id));cov_1n74d1s3bc.s[24]++;return res.status(204).send(ref);},getUser:function getUser(req,res){cov_1n74d1s3bc.f[6]++;var user=(cov_1n74d1s3bc.s[25]++,_Courier2.default.findUser(Number.parseInt(req.params.UserID,10)));cov_1n74d1s3bc.s[26]++;if(!user){cov_1n74d1s3bc.b[7][0]++;cov_1n74d1s3bc.s[27]++;return res.status(404).send({"message":'User not found'});}else{cov_1n74d1s3bc.b[7][1]++;}cov_1n74d1s3bc.s[28]++;return res.status(200).send(user);}});cov_1n74d1s3bc.s[29]++;exports.default=deliveries;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvdXJpZXIuanMiXSwibmFtZXMiOlsiZGVsaXZlcmllcyIsImNyZWF0ZSIsInJlcSIsInJlcyIsImJvZHkiLCJOYW1lIiwiTW9kZWwiLCJGcm9tIiwiVG8iLCJOb3dBdCIsIlN0YXR1cyIsIlVzZXJJRCIsInN0YXR1cyIsInNlbmQiLCJzZW5keSIsIlBhcmNlbHNNb2RlbCIsImdldEFsbCIsImFsbCIsImZpbmRBbGwiLCJnZXRPbmUiLCJvbmUiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGUiLCJ1cGRhdGVkUGFyY2VsIiwiZGVsZXRlIiwiZGVsZXRlZSIsInJlZiIsImdldFVzZXIiLCJ1c2VyIiwiZmluZFVzZXIiLCJOdW1iZXIiLCJwYXJzZUludCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztBQUVBLElBQU1BLGFBQWE7QUFDakI7Ozs7OztBQU1BQyxRQVBpQixrQkFPVkMsR0FQVSxFQU9MQyxHQVBLLEVBT0E7QUFDZixRQUFJLENBQUNELElBQUlFLElBQUosQ0FBU0MsSUFBVixJQUFrQixDQUFDSCxJQUFJRSxJQUFKLENBQVNFLEtBQTVCLElBQXFDLENBQUNKLElBQUlFLElBQUosQ0FBU0csSUFBL0MsSUFBdUQsQ0FBQ0wsSUFBSUUsSUFBSixDQUFTSSxFQUFqRSxJQUNFLENBQUNOLElBQUlFLElBQUosQ0FBU0ssS0FEWixJQUNxQixDQUFDUCxJQUFJRSxJQUFKLENBQVNNLE1BRC9CLElBQ3lDLENBQUNSLElBQUlFLElBQUosQ0FBU08sTUFEdkQsRUFDK0Q7QUFDN0QsYUFBT1IsSUFBSVMsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUMsV0FBVyx5QkFBWixFQUFyQixDQUFQO0FBQ0Q7QUFDRCxRQUFNQyxRQUFRQyxrQkFBYWQsTUFBYixDQUFvQkMsSUFBSUUsSUFBeEIsQ0FBZDtBQUNBLFdBQU9ELElBQUlTLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkMsS0FBckIsQ0FBUDtBQUNELEdBZGdCOztBQWVqQjs7Ozs7O0FBTUFFLFFBckJpQixrQkFxQlZkLEdBckJVLEVBcUJMQyxHQXJCSyxFQXFCQTtBQUNmLFFBQU1jLE1BQU1GLGtCQUFhRyxPQUFiLEVBQVo7QUFDQSxXQUFPZixJQUFJUyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJJLEdBQXJCLENBQVA7QUFDRCxHQXhCZ0I7O0FBeUJqQjs7Ozs7O0FBTUFFLFFBL0JpQixrQkErQlZqQixHQS9CVSxFQStCTEMsR0EvQkssRUErQkE7QUFDZixRQUFNaUIsTUFBTUwsa0JBQWFNLE9BQWIsQ0FBcUJuQixJQUFJb0IsTUFBSixDQUFXQyxFQUFoQyxDQUFaO0FBQ0EsUUFBSSxDQUFDSCxHQUFMLEVBQVU7QUFDUixhQUFPakIsSUFBSVMsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUMsV0FBVyxrQkFBWixFQUFyQixDQUFQO0FBQ0Q7QUFDRCxXQUFPVixJQUFJUyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJPLEdBQXJCLENBQVA7QUFDRCxHQXJDZ0I7O0FBc0NqQjs7Ozs7O0FBTUFJLFFBNUNpQixrQkE0Q1Z0QixHQTVDVSxFQTRDTEMsR0E1Q0ssRUE0Q0E7QUFDZixRQUFNcUIsU0FBU1Qsa0JBQWFNLE9BQWIsQ0FBcUJuQixJQUFJb0IsTUFBSixDQUFXQyxFQUFoQyxDQUFmO0FBQ0EsUUFBSSxDQUFDQyxNQUFMLEVBQWE7QUFDWCxhQUFPckIsSUFBSVMsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUMsV0FBVyxrQkFBWixFQUFyQixDQUFQO0FBQ0Q7QUFDRCxRQUFNWSxnQkFBZ0JWLGtCQUFhUyxNQUFiLENBQW9CdEIsSUFBSW9CLE1BQUosQ0FBV0MsRUFBL0IsRUFBbUNyQixJQUFJRSxJQUF2QyxDQUF0QjtBQUNBLFdBQU9ELElBQUlTLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQlksYUFBckIsQ0FBUDtBQUNELEdBbkRnQjs7QUFvRGpCOzs7Ozs7QUFNQUMsUUExRGlCLG1CQTBEVnhCLEdBMURVLEVBMERMQyxHQTFESyxFQTBEQTtBQUNmLFFBQU13QixVQUFVWixrQkFBYU0sT0FBYixDQUFxQm5CLElBQUlvQixNQUFKLENBQVdDLEVBQWhDLENBQWhCO0FBQ0EsUUFBSSxDQUFDSSxPQUFMLEVBQWM7QUFDWixhQUFPeEIsSUFBSVMsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUMsV0FBVyxrQkFBWixFQUFyQixDQUFQO0FBQ0Q7QUFDRCxRQUFNZSxNQUFNYixrQkFBYVcsTUFBYixDQUFvQnhCLElBQUlvQixNQUFKLENBQVdDLEVBQS9CLENBQVo7QUFDQSxXQUFPcEIsSUFBSVMsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCZSxHQUFyQixDQUFQO0FBQ0QsR0FqRWdCO0FBbUVqQkMsU0FuRWlCLG1CQW1FVDNCLEdBbkVTLEVBbUVKQyxHQW5FSSxFQW1FQTtBQUNmLFFBQU0yQixPQUFPZixrQkFBYWdCLFFBQWIsQ0FBc0JDLE9BQU9DLFFBQVAsQ0FBZ0IvQixJQUFJb0IsTUFBSixDQUFXWCxNQUEzQixFQUFtQyxFQUFuQyxDQUF0QixDQUFiO0FBQ0UsUUFBSSxDQUFDbUIsSUFBTCxFQUFVO0FBQ04sYUFBTzNCLElBQUlTLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFDLFdBQVcsZ0JBQVosRUFBckIsQ0FBUDtBQUNIOztBQUVELFdBQU9WLElBQUlTLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQmlCLElBQXJCLENBQVA7QUFDTDtBQTFFa0IsQ0FBbkI7O2tCQThFZTlCLFUiLCJmaWxlIjoiQ291cmllci5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9Vc2VyL0FwcERhdGEvTG9jYWwvR2l0SHViRGVza3RvcC9hcHAtMS40LjMvRG9jdW1lbnRzL0dpdEh1Yi9NQ0ZyYW5rMTYuZ2l0aHViLmlvL3NyYy9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYXJjZWxzTW9kZWwgZnJvbSAnLi4vbW9kZWxzL0NvdXJpZXInO1xyXG5cclxuY29uc3QgZGVsaXZlcmllcyA9IHtcclxuICAvKipcclxuICAgKiBcclxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQYXJjZWwgb2JqZWN0IFxyXG4gICAqL1xyXG4gIGNyZWF0ZShyZXEsIHJlcykge1xyXG4gICAgaWYgKCFyZXEuYm9keS5OYW1lICYmICFyZXEuYm9keS5Nb2RlbCAmJiAhcmVxLmJvZHkuRnJvbSAmJiAhcmVxLmJvZHkuVG9cclxuICAgICAgICYmICFyZXEuYm9keS5Ob3dBdCAmJiAhcmVxLmJvZHkuU3RhdHVzICYmICFyZXEuYm9keS5Vc2VySUQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsnbWVzc2FnZSc6ICdBbGwgZmllbGRzIGFyZSByZXF1aXJlZCd9KVxyXG4gICAgfVxyXG4gICAgY29uc3Qgc2VuZHkgPSBQYXJjZWxzTW9kZWwuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZChzZW5keSk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBcclxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXMgXHJcbiAgICogQHJldHVybnMge29iamVjdH0gUGFyY2VsIGFycmF5XHJcbiAgICovXHJcbiAgZ2V0QWxsKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCBhbGwgPSBQYXJjZWxzTW9kZWwuZmluZEFsbCgpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGFsbCk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBcclxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcclxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQYXJjZWwgb2JqZWN0XHJcbiAgICovXHJcbiAgZ2V0T25lKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCBvbmUgPSBQYXJjZWxzTW9kZWwuZmluZE9uZShyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmICghb25lKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnUGFyY2VsIG5vdCBmb3VuZCd9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChvbmUpO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcSBcclxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzIFxyXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IFBhcmNlbCByZWZsZWN0aW9uXHJcbiAgICovXHJcbiAgdXBkYXRlKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCB1cGRhdGUgPSBQYXJjZWxzTW9kZWwuZmluZE9uZShyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmICghdXBkYXRlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnUGFyY2VsIG5vdCBmb3VuZCd9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHVwZGF0ZWRQYXJjZWwgPSBQYXJjZWxzTW9kZWwudXBkYXRlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5KVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHVwZGF0ZWRQYXJjZWwpO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcSBcclxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzIFxyXG4gICAqIEByZXR1cm5zIHt2b2lkfSByZXR1cm4gc3RhdHVjIGNvZGUgMjA0IFxyXG4gICAqL1xyXG4gIGRlbGV0ZShyZXEsIHJlcykge1xyXG4gICAgY29uc3QgZGVsZXRlZSA9IFBhcmNlbHNNb2RlbC5maW5kT25lKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKCFkZWxldGVlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnUGFyY2VsIG5vdCBmb3VuZCd9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJlZiA9IFBhcmNlbHNNb2RlbC5kZWxldGUocmVxLnBhcmFtcy5pZCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDQpLnNlbmQocmVmKTtcclxuICB9LFxyXG4gICAgXHJcbiAgZ2V0VXNlcihyZXEsIHJlcyl7XHJcbiAgICBjb25zdCB1c2VyID0gUGFyY2Vsc01vZGVsLmZpbmRVc2VyKE51bWJlci5wYXJzZUludChyZXEucGFyYW1zLlVzZXJJRCwgMTApKTtcclxuICAgICAgaWYgKCF1c2VyKXtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XCJtZXNzYWdlXCI6ICdVc2VyIG5vdCBmb3VuZCd9KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHVzZXIpO1xyXG59ICAgIFxyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRlbGl2ZXJpZXM7Il19